<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Payment — Crypto Training</title>
<link rel="icon" href="/logo.png">
<style>
  body{margin:0;font-family:system-ui;background:#071024;color:#e6eef8}
  header{padding:14px;background:linear-gradient(90deg,#06203a,#08304d);display:flex;align-items:center;gap:12px}
  .container{padding:18px;max-width:700px;margin:18px auto}
  input,button{display:block;width:100%;padding:10px;margin-top:8px;border-radius:8px;border:0}
  .bank{background:#041328;padding:12px;border-radius:8px;margin-top:12px}
</style>
</head>
<body>
<header>
  <img src="https://i.postimg.cc/x1cLbZhh/IMG-20250812-WA0070.jpg" style="height:36px" alt="logo">
  <div style="font-weight:700">BEWISE TRADING AND INVESTMENT INSTITUTION</div>
</header>
<div class="container">
  <h2>Payments</h2>
  <div class="bank">
    <div style="font-weight:700">Bank Transfer / Palmpay</div>
    <div>Account name: Ezeh Ebube Chidubem</div>
    <div>Account number: <strong>8167542829</strong></div>
    <div>Provider: Palmpay</div>
    <div style="margin-top:8px">(You can transfer and then upload proof below.)</div>
  </div>

  <h3 style="margin-top:16px">Upload Payment Proof</h3>
  <input id="name" placeholder="Your name">
  <input id="email" placeholder="Your email">
  <input id="course" placeholder="Course / package">
  <input id="proof" type="file" accept="image/*,application/pdf">
  <button id="btnSend">Send Proof</button>
  <div id="result" style="margin-top:8px"></div>
</div>

<script>
(async function(){
  const RENDER_HOST = 'bewise-trading-and-investment-institution-k7ue.onrender.com';
  const RENDER_BASE = 'https://' + RENDER_HOST;
  const RENDER_API = RENDER_BASE + '/api';
  const API = (location.hostname === RENDER_HOST) ? '/api' : RENDER_API;

  const nameEl = document.getElementById('name'), emailEl = document.getElementById('email'), courseEl = document.getElementById('course'), proofEl = document.getElementById('proof'), btn = document.getElementById('btnSend'), result = document.getElementById('result');

  btn.addEventListener('click', async ()=>{
    const name = (nameEl.value||'').trim();
    const email = (emailEl.value||'').trim();
    const course = (courseEl.value||'').trim();
    const file = proofEl.files[0];
    if(!name || !file){ result.innerText = 'Provide name and proof file'; return; }
    btn.disabled = true; result.innerText = 'Uploading...';
    try {
      const fd = new FormData();
      fd.append('name', name);
      fd.append('email', email);
      fd.append('course_title', course);
      fd.append('proof', file);
      const r = await fetch(API + '/payment/proof', { method:'POST', body:fd });
      const j = await r.json();
      if(r.ok && j.success){ result.innerText = 'Uploaded — we will verify shortly.'; nameEl.value=''; emailEl.value=''; courseEl.value=''; proofEl.value=''; }
      else { result.innerText = 'Upload failed: ' + (j.error||j.message||'server'); }
    } catch(e){ console.error(e); result.innerText = 'Network error'; }
    btn.disabled = false;
  });
})();
</script>
</body>
</html>